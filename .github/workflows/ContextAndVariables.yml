name: Context and Variables
env: 
  important: 6

on: 
  workflow_dispatch:
    inputs:
      should_fail:
        description: "Fail if < 7"
        required: true
        type: string
        default: "6"

jobs: 
  build-project:
    runs-on: ubuntu-latest
    steps:
    - name: Step that can fail
      if: ${{ toNumber(inputs.should_fail) < 7 }}
      run: |
        echo "Failcheck..."
        exit 1
        

    - uses: actions/checkout@v4
    - name : Build solution
      run: dotnet build

    - name: on-failure
      if: ${{ failure() }}
      run: echo "Oops, ${{env.important}} was lesser than 7"

    - name: on-success
      if: ${{ success() }}
      run: echo "Success! ${{inputs.should_fail}} was 7 or more (${{env.important}})!"
